<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>数据资产管理平台</title>
    <script type="text/javascript">
      // 单页应用GitHub Pages重定向脚本
      (function() {
        var l = window.location;
        var pathname = l.pathname;
        
        // 获取仓库名（第一段路径）
        var pathParts = pathname.split('/').filter(Boolean);
        var repo = pathParts[0] || '';
        
        // 剩余路径（去掉仓库名）
        var remainingPath = pathParts.slice(1).join('/');
        
        // 保存完整路径（不包含仓库名，因为React Router会处理basename）
        var fullPath = '/' + remainingPath;
        
        console.log('404.html - pathname:', pathname);
        console.log('404.html - repo:', repo);
        console.log('404.html - fullPath:', fullPath);
        
        // 保存原始URL到sessionStorage
        sessionStorage.setItem('spa-redirect', JSON.stringify({
          path: fullPath,
          query: l.search,
          hash: l.hash
        }));
        
        // 重定向到首页（保留仓库名）
        var redirectUrl = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') + '/' + repo + '/';
        console.log('404.html - redirecting to:', redirectUrl);
        
        l.replace(redirectUrl);
      })();
    </script>
  </head>
  <body>
    正在重定向...
  </body>
</html>
